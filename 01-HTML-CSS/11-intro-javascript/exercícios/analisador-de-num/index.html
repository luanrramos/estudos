<!DOCTYPE html>
<html lang="pt-br">

<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Análise de números</title>
  <link rel="stylesheet" href="style.css">
</head>

<body>
  <main>
    <h1>Análise de números</h1>
    <div>
      <label>Número entre 1 e 100:</label>
      <input type="number" id="txtn">

      <button class="btn" onclick="clicar()">Adicionar</button>
      <br>

      <select size="10" id="resp" name="resp" required="required" multiple>
        <option value=""></option>
      </select> <br>
      <input id="verificar" type="button" value="Verificar" onclick="verificar()">
      <div id="resp2"></div>
    </div>
    <script>
      var lista = []
      var vez = 0, soma = 0, quant = 0
      let maior = 0, menor = 0;
      function clicar() {
        var sn = document.querySelector("input#txtn");
        var numero = Number(sn.value)
        if (numero === 0 || numero < 0 || numero > 100) {
          alert("[ERRO] Você não PREENCHEU TODOS OS CAMPOS!");
        }
        else {
          resp2.innerHTML = ""
          quant++
          soma += numero
          media = soma / quant
          lista[lista.length] = numero
          resp.innerHTML += `<option>${numero} adicionado!</option>`
          console.log(lista);
          if (vez === 0) {
            maior = numero;
            menor = numero;
            vez++
          }
          else {
            if (numero > maior) {
              maior = numero
            }
            if (numero < menor) {
              menor = numero;
            }
          }
        }
      }

      function verificar() {
        if (lista.length === 0) {
          alert("Adicione valores antes de finalizar!")
        }
        var resp2 = document.querySelector("div#resp2");
        resp2.innerHTML = `<p>Ao todo, temos ${lista.length} valores.</p> <p> O maior número digitado foi ${maior}</p> <p> O menor número digitado foi ${menor}</p> <p> Somando todos os valores, temos ${soma}.</p> <p> A média dos valores digitados é ${media}</p>`

      } 
    </script>
  </main>
</body>

</html>